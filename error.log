{"error":{"clientVersion":"6.1.0","name":"PrismaClientUnknownRequestError"},"input":{"email":"newuser@example.com","phoneNumber":"1234567890"},"level":"error","message":"Fatal error in processIdentity","timestamp":"2025-01-06T19:11:57.227Z"}
{"error":{"clientVersion":"6.1.0","code":"P2032","meta":{"expected_type":"String","field":"linkPrecedence","found":"primary","modelName":"Contact"},"name":"PrismaClientKnownRequestError"},"input":{"email":"newuser@example.com","phoneNumber":"1234567890"},"level":"error","message":"Fatal error in processIdentity","timestamp":"2025-01-06T19:27:52.732Z"}
{"clientVersion":"6.1.0","code":"P2002","level":"error","message":"Unhandled error: \nInvalid `tx.contact.create()` invocation in\n/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:66:55\n\n  63 if ((email && !existingContacts.some((c) => c.email === email)) ||\n  64     (phoneNumber &&\n  65         !existingContacts.some((c) => c.phoneNumber === phoneNumber))) {\n→ 66     const newSecondary = await tx.contact.create(\nUnique constraint failed on the fields: (`email`)","meta":{"modelName":"Contact","target":["email"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `tx.contact.create()` invocation in\n/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:66:55\n\n  63 if ((email && !existingContacts.some((c) => c.email === email)) ||\n  64     (phoneNumber &&\n  65         !existingContacts.some((c) => c.phoneNumber === phoneNumber))) {\n→ 66     const newSecondary = await tx.contact.create(\nUnique constraint failed on the fields: (`email`)\n    at qn.handleRequestError (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at qn.handleAndLogRequestError (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:6640)\n    at qn.request (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:6347)\n    at async l (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:9616)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:66:38\n    at async Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7983)\n    at async ContactService.processIdentity (/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:35:16)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-controller.js:17:28","timestamp":"2025-01-07T07:38:12.970Z"}
{"clientVersion":"6.1.0","code":"P2002","level":"error","message":"Unhandled error: \nInvalid `tx.contact.create()` invocation in\n/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:66:55\n\n  63 if ((email && !existingContacts.some((c) => c.email === email)) ||\n  64     (phoneNumber &&\n  65         !existingContacts.some((c) => c.phoneNumber === phoneNumber))) {\n→ 66     const newSecondary = await tx.contact.create(\nUnique constraint failed on the fields: (`phoneNumber`)","meta":{"modelName":"Contact","target":["phoneNumber"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `tx.contact.create()` invocation in\n/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:66:55\n\n  63 if ((email && !existingContacts.some((c) => c.email === email)) ||\n  64     (phoneNumber &&\n  65         !existingContacts.some((c) => c.phoneNumber === phoneNumber))) {\n→ 66     const newSecondary = await tx.contact.create(\nUnique constraint failed on the fields: (`phoneNumber`)\n    at qn.handleRequestError (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at qn.handleAndLogRequestError (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:6640)\n    at qn.request (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:6347)\n    at async l (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:9616)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:66:38\n    at async Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7983)\n    at async ContactService.processIdentity (/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:35:16)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-controller.js:17:28","timestamp":"2025-01-07T07:38:23.341Z"}
{"clientVersion":"6.1.0","code":"P2002","level":"error","message":"Unhandled error: \nInvalid `tx.contact.create()` invocation in\n/Users/vastav/Downloads/identity-system/src/api/contact/contact-service.ts:94:47\n\n  91   (phoneNumber &&\n  92     !existingContacts.some((c) => c.phoneNumber === phoneNumber))\n  93 ) {\n→ 94   const newSecondary = await tx.contact.create(\nUnique constraint failed on the fields: (`email`)","meta":{"modelName":"Contact","target":["email"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `tx.contact.create()` invocation in\n/Users/vastav/Downloads/identity-system/src/api/contact/contact-service.ts:94:47\n\n  91   (phoneNumber &&\n  92     !existingContacts.some((c) => c.phoneNumber === phoneNumber))\n  93 ) {\n→ 94   const newSecondary = await tx.contact.create(\nUnique constraint failed on the fields: (`email`)\n    at qn.handleRequestError (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at qn.handleAndLogRequestError (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:6640)\n    at qn.request (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:6347)\n    at l (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:9616)\n    at /Users/vastav/Downloads/identity-system/src/api/contact/contact-service.ts:94:30\n    at Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7983)\n    at ContactService.processIdentity (/Users/vastav/Downloads/identity-system/src/api/contact/contact-service.ts:54:12)\n    at /Users/vastav/Downloads/identity-system/src/api/contact/contact-controller.ts:20:20","timestamp":"2025-01-07T07:44:23.836Z"}
{"clientVersion":"6.1.0","code":"P2002","level":"error","message":"Unhandled error: \nInvalid `tx.contact.create()` invocation in\n/Users/vastav/Downloads/identity-system/src/api/contact/contact-service.ts:94:47\n\n  91   (phoneNumber &&\n  92     !existingContacts.some((c) => c.phoneNumber === phoneNumber))\n  93 ) {\n→ 94   const newSecondary = await tx.contact.create(\nUnique constraint failed on the fields: (`email`)","meta":{"modelName":"Contact","target":["email"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `tx.contact.create()` invocation in\n/Users/vastav/Downloads/identity-system/src/api/contact/contact-service.ts:94:47\n\n  91   (phoneNumber &&\n  92     !existingContacts.some((c) => c.phoneNumber === phoneNumber))\n  93 ) {\n→ 94   const newSecondary = await tx.contact.create(\nUnique constraint failed on the fields: (`email`)\n    at qn.handleRequestError (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at qn.handleAndLogRequestError (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:6640)\n    at qn.request (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:121:6347)\n    at l (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:9616)\n    at /Users/vastav/Downloads/identity-system/src/api/contact/contact-service.ts:94:30\n    at Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7983)\n    at ContactService.processIdentity (/Users/vastav/Downloads/identity-system/src/api/contact/contact-service.ts:54:12)\n    at /Users/vastav/Downloads/identity-system/src/api/contact/contact-controller.ts:20:20","timestamp":"2025-01-07T07:45:24.100Z"}
{"level":"error","message":"Unhandled error: Reduce of empty array with no initial value","stack":"TypeError: Reduce of empty array with no initial value\n    at Array.reduce (<anonymous>)\n    at /Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:37:51\n    at Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7989)\n    at async ContactService.processIdentity (/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:35:16)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-controller.js:17:28","timestamp":"2025-01-07T07:53:58.843Z"}
{"level":"error","message":"Unhandled error: Reduce of empty array with no initial value","stack":"TypeError: Reduce of empty array with no initial value\n    at Array.reduce (<anonymous>)\n    at /Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:37:51\n    at Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7989)\n    at async ContactService.processIdentity (/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:35:16)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-controller.js:17:28","timestamp":"2025-01-07T07:56:19.489Z"}
{"level":"error","message":"Unhandled error: Reduce of empty array with no initial value","stack":"TypeError: Reduce of empty array with no initial value\n    at Array.reduce (<anonymous>)\n    at /Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:37:51\n    at Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7989)\n    at async ContactService.processIdentity (/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:35:16)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-controller.js:17:28","timestamp":"2025-01-07T08:00:44.252Z"}
{"level":"error","message":"Unhandled error: Reduce of empty array with no initial value","stack":"TypeError: Reduce of empty array with no initial value\n    at Array.reduce (<anonymous>)\n    at /Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:37:51\n    at Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7989)\n    at async ContactService.processIdentity (/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:35:16)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-controller.js:17:28","timestamp":"2025-01-07T08:02:51.702Z"}
{"error":{"clientVersion":"6.1.0","code":"P2002","meta":{"modelName":"Contact","target":["email","phoneNumber","linkedId"]},"name":"PrismaClientKnownRequestError"},"input":{"email":"newcontact@example.com","phoneNumber":"1234567890"},"level":"error","message":"Fatal error in processIdentity","timestamp":"2025-01-07T08:47:57.550Z"}
{"error":{"clientVersion":"6.1.0","code":"P2002","meta":{"modelName":"Contact","target":["email","phoneNumber","linkedId"]},"name":"PrismaClientKnownRequestError"},"input":{"email":"newcontact@example.com","phoneNumber":"1234567890"},"level":"error","message":"Fatal error in processIdentity","timestamp":"2025-01-07T08:48:45.505Z"}
{"level":"error","message":"Unhandled error: Reduce of empty array with no initial value","stack":"TypeError: Reduce of empty array with no initial value\n    at Array.reduce (<anonymous>)\n    at /Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:37:51\n    at Proxy._transactionWithCallback (/Users/vastav/Downloads/identity-system/node_modules/@prisma/client/runtime/library.js:130:7989)\n    at async ContactService.processIdentity (/Users/vastav/Downloads/identity-system/dist/api/contact/contact-service.js:35:16)\n    at async /Users/vastav/Downloads/identity-system/dist/api/contact/contact-controller.js:17:28","timestamp":"2025-01-07T08:51:43.988Z"}
